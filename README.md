<div align="center">

# 城市旅游智能体 (City Tourism AI Agent)

为城市旅游智能体提供开源方案：**让一个城市的旅游规划体验，在一天之内复制到任意另一座城市**。


---</div>

## 🔥 一句话介绍
城市旅游智能体 = 「交互式智能行程板」 + 「实时城市数据」 + 「Agentic RAG 知识问答」 + 「阶段式规划决策」+ 「可移植城市模板」。


## 🎯 为什么存在（Why）
传统“旅游攻略” or “一次性生成大段文字” 的模式存在：不可编辑、难迭代、无法结构化复用、难以融入文旅场景 KPI。我们把旅游规划抽象为：
- 一份可被 AI & 人共同操作的结构化“行程表”
- 一组可组合 / 可替换的城市数据能力（POI / 天气 / 距离）
- 一套可阶段推进的决策流程（景点 → 酒店 → 餐饮 → 扩展）
- 一条可迁移到任意城市的“配置 + 知识 + 工具”管线

## 💼 项目价值（Value Proposition）
| 角色 | 直接价值 | 延伸价值 |
|------|----------|----------|
| 文旅局 / 城市运营 | 快速上线“官方智能行程助手” | 可作为数据采集与游客行为洞察入口 |
| 旅游企业 / OTA / 本地运营 | 降低个性化方案人工成本 | 形成品牌差异化服务能力 |
| 游客 / 市民 | 真正“可编辑、可反复迭代”的 AI 行程板 | 行程可导出 / 打印 / 分享 / 多端查看 |
| 开发者 & 创客 | 完整的开源参考实现 | 快速二次开发垂直场景（研学 / 活动 / 会展） |
| 高校 / 教学 / 研究 | 可复现实验与课程案例 | 结合 RAG / Agent / 地理智能教学 |

### ✅ 我们解决的“痛点对比”
| 传统 LLM Chat 方案 | 城市旅游智能体 |
|---------------------|------------------|
| 一次性长文本，不好改 | 可视化行程板，随时增删改排 |
| 无阶段边界，内容混乱 | 明确阶段推进：景点→酒店→餐饮 |
| 对话上下文易丢失 | 记忆机制：长期偏好 + 短期行程 + 最新指令 |
| 工具调用零散 | 统一 MCP 工具编排（天气 / 搜索 / 距离）|
| 难迁移到其他城市 | “数据能力 + 行程逻辑”模板化，可配置迁移 |
| 用户“看完不用” | 可导出 PDF / 打印 / 分享 / 二次编辑 |

### 🧱 规划核心理念（Foundational Principles）
1. **旅游规划需要反复调整、优化，不可能一次完成。**  
	用户的偏好、约束与灵感会在过程中逐步显性化；高质量行程不是“一次性长稿”，而是通过多轮微调逐渐收敛为既符合偏好又可执行的结构化结果。
    
2. **人和 AI 必须双向互动（Interactive）。**  
	AI 擅长结构化、组合与快速重排；人类擅长价值判断、体验感与取舍。通过往返协作（提出 → 评估 → 指令化反馈），才能得到符合用户需求和偏好的最终方案。

## ✨ 核心差异化亮点
1. 🧠 **行程记忆体系**：长期（旅行信息表）+ 短期（行程表完整结构）+ 临时对话，真正支持多轮规划与反复优化。
2. 🧩 **阶段式规划范式**：完成每个阶段的规划后寻求用户的反馈和确认；从“不可控自动生成”变为“可控式共创”。
3. 📋 **交互式行程表**：AI & 人双向操作，结构化 JSON → 可视化板 → 可导出 PDF / 打印。
4. 🛰️ **Agentic RAG**：支持自主 Query 改写 + 文档语义检索 + 实时地图数据融合。
5. 🌐 **城市可移植性**：抽象为“城市配置 + 工具层 + 行程逻辑模板”，切换城市 ≈ 修改一组参数。
6. 🪶 **轻量部署**：本地即可运行；适配后端 / 内网 / 教学 / 原型验证；
7. 🔍 **真实可用**：避免空洞“攻略生成”，专注能落地与交付的行程产物（结构 + 可追踪 + 可操作）。

## 🏗 使用场景（Scenarios）
- 官方文旅：上线“智慧城市旅游体验官”小程序 / Web 端
- OTA / 酒旅品牌：个性化行程定制入口
- 会展 / 赛事 / 节庆：活动+自由行混合日程推荐
- 教学 / 研究：RAG + Agent + 地理数据联合实验框架
- 本地生活内容平台：提升内容 → 服务闭环能力

## 🌟 核心功能特性（概览）

### 📋 智能行程表 - 双向交互规划核心
| 特性 | 说明 | 优势 |
|------|------|------|
| **双向交互编辑** | AI生成行程 ⇄ 用户手动调整 | 人机协作，灵活可控 |
| **实时同步更新** | 修改立即反映，支持拖拽排序 | 所见即所得的规划体验 |
| **多格式导出** | PDF导出、打印优化、分享链接 | 便携实用，随时随地查看 |
| **结构化存储** | JSON格式，支持版本回退 | 数据完整性和可追溯性 |

### 🗺️ 实时地点查询 - 高德地图MCP工具集
| 功能模块 | 核心能力 | 技术实现 |
|----------|----------|----------|
| **兴趣点搜索** | 景点、餐厅、酒店、购物中心智能检索 | 关键词匹配，城市限定 |
| **附近发现** | 基于当前位置的周边POI发现 | 坐标半径检索，类型过滤 |
| **距离计算** | 目的地间距离和时间测算 | 多点距离矩阵，路径优化 |
| **天气服务** | 实况天气+未来预报 | 高德天气API，行程天气提醒 |

### 🤖 Agentic RAG - 智能文档查询
| 能力 | 技术实现 | 应用场景 |
|------|----------|----------|
| **文档理解** | 嵌入向量+语义检索 | 上传攻略、政策文档 |
| **智能问答** | 检索增强生成(RAG) | "哪里有特色美食？" |
| **自主Query改写** | LLM自动优化查询语句 | 模糊问题→精确检索 |
| **上下文记忆** | 对话历史+文档片段 | 多轮深度规划咨询 |
| **知识融合** | 文档内容+实时地图数据 | 个性化推荐决策 |

### 🚀 无缝城市迁移 - 一套系统，全国适用
| 迁移特性 | 技术优势 | 业务价值 |
|----------|----------|----------|
| **配置驱动** | 仅需修改城市参数 | 快速复制部署 |
| **数据标准化** | 统一的地图API接口 | 跨城市数据一致性 |
| **模板复用** | 行程结构与逻辑通用 | 降低开发维护成本 |
| **本地化支持** | 方言识别、区域特色 | 提升用户体验质量 |

### 💡 创新亮点速览
- 🎯 分阶段规划（强停顿+可回退）
- 🧠 记忆机制（长期偏好 + 短期行程 + 最新指令）
- 🔄 实时同步（双向编辑 + 立即反馈）
- 🧭 工具融合（天气 / 搜索 / 距离统一编排）
- 📦 可复制（城市模板化 / 可配置迁移）
- 📱 多端体验（桌面 / 移动端友好）

## 🚀 快速上手（Just Start）
> 追求“跑起来看到价值”，保留最小必要步骤。

```bash
python -m venv .venv
./.venv/Scripts/activate   # Windows PowerShell
pip install -r requirements.txt
cp env.example .env        # 填写你的密钥（高德 API KEY 等）
python App/app.py          # 启动本地服务 (默认 8000)
```

打开浏览器访问：http://127.0.0.1:8000 即可体验交互式行程规划。



---

## 🤝 如何参与（Contribute）
我们欢迎：文旅行业实践者 / 开发者 / 设计师 / 教研人员 共同共建。

| 想做的事 | 入口 |
|-----------|------|
| 反馈问题 / 需求 | 提交 Issue |
| 加城市适配 | 新建 feature 分支 + PR |
| 改进交互 / 设计 | 提交 UX 讨论到 Discussions |
| 增强工具层 | 扩展 MCP Wrapper / 添加新工具 |
| 文档改进 | 直接 PR 或提出改进点 |

> 参见：`CONTRIBUTING.md` · `CODE_OF_CONDUCT.md` · `Doc/版本记录.md`


---

## 🛤 路线与展望（Roadmap Snapshot）
| 阶段 | 方向 | 目标 |
|------|------|------|
| ✅ 当前 | 行程表 + 基础工具 | 已可用 MVP 场景落地 |
| 🔄 迭代中 | 城市模板 / 扩展工具 | 增强多城市快速复制能力 |
| ⏳ 规划中 | 多用户协同 / 分享 | 支持合伙出行规划 / 分享链接 |
| 🔭 展望 | 数据洞察分析 | 城市级游客偏好与行为可视化仪表盘 |

> 想影响路线？欢迎在 Discussions 发起话题。

---

## 🙌 认可与支持（Support）
如果你认同“开源城市旅游智能体”的价值：
- ⭐ Star 让更多人看到
- 🍴 Fork 探索你的城市版本
- 🗣 分享给本地文旅 / 教研 / 创客团队

---

## 🙏 致谢
高德开放平台 · LLM 服务提供方 · Python / Flask / pytest 生态 · 所有贡献者与使用者。

> This project is open to collaboration. 让城市旅行体验真正“智能 + 可落地”。

### 🤝 参与贡献

我们欢迎所有形式的贡献！无论您是开发者、设计师、文档编写者还是用户，都有适合您的参与方式。

#### 快速开始贡献
1. **Fork** 项目到您的GitHub账户
2. **Clone** 您的fork到本地
3. 创建功能分支：`git checkout -b feature/amazing-feature`
4. 提交您的更改：`git commit -m 'feat: 添加某个新功能'`
5. 推送到分支：`git push origin feature/amazing-feature`
6. 创建 **Pull Request**

#### 贡献方式
- 🐛 **报告Bug** - 使用[Issue模板](https://github.com/Keldon-Pro/City-Tour-Agent/issues/new)
- ✨ **建议功能** - 提出新功能想法和改进建议
- 💻 **代码贡献** - 修复bug、实现新功能、优化性能
- 📚 **完善文档** - 改进文档、添加示例、翻译内容
- 🧪 **编写测试** - 增加测试覆盖率、改进测试质量

### 📋 重要文档
- [**贡献指南**](CONTRIBUTING.md) - 详细的贡献流程和规范
- [**行为准则**](CODE_OF_CONDUCT.md) - 社区行为准则
- [**版本记录**](Doc/版本记录.md) - 提交规范和版本历史
- [**贡献者列表**](CONTRIBUTORS.md) - 感谢所有贡献者

### 🏆 贡献者认可
- 所有贡献者将被列入[CONTRIBUTORS.md](CONTRIBUTORS.md)
- 重要贡献者将在Release Notes中特别感谢
- 活跃贡献者可获得项目collaborator权限

### 💬 交流渠道
- **GitHub Issues** - 技术讨论和问题报告
- **GitHub Discussions** - 想法交流和一般讨论
- **Pull Request评论** - 代码审查和技术细节

### 🔧 开发环境
详细的开发环境设置请参考[贡献指南](CONTRIBUTING.md#开发环境设置)。

### 📊 项目状态
- ⭐ **Star** 项目来表示支持
- 👀 **Watch** 项目来获取最新动态
- 🍴 **Fork** 项目来开始贡献

## 致谢
- 高德开放平台
- 火山方舟 / 其他 LLM 服务提供方
- 开源 Python / Flask / pytest 生态
- 所有贡献者和用户的支持

